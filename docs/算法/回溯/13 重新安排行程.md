# 重新安排行程(hard)

::: tip Question

给你一份航线列表` tickets `，其中` tickets[i] = [fromi, toi] `表示飞机出发和降落的机场地点。请你对该行程进行重新规划排序。

所有这些机票都属于一个从` JFK`（肯尼迪国际机场）出发的先生，所以该行程必须从` JFK` 开始。如果存在多种有效的行程，请你按字典排序返回最小的行程组合。

例如，行程` ["JFK", "LGA"]` 与 `["JFK", "LGB"] `相比就更小，排序更靠前。
假定所有机票至少存在一种合理的行程。且所有的机票 必须都用一次 且 只能用一次。

:::

<img src="/images/image-20230617113201820.png" alt="image-20230617113201820" style="zoom: 67%;" />

# 思路

直觉上来看 这道题和回溯法没有什么关系，更像是图论中的深度优先搜索。

实际上确实是深搜，但这是深搜中使用了回溯的例子，在查找路径的时候，如果不回溯，怎么能查到目标路径呢。

所以我倾向于说本题应该使用回溯法，那么我也用回溯法的思路来讲解本题，其实深搜一般都使用了回溯法的思路，在图论系列中我会再详细讲解深搜。

**这里就是先给大家拓展一下，原来回溯法还可以这么玩！**

**这道题目有几个难点：**

1. 一个行程中，如果航班处理不好容易变成一个圈，成为死循环
2. 有多种解法，字母序靠前排在前面，让很多同学望而退步，如何该记录映射关系呢 ？
3. 使用回溯法（也可以说深搜） 的话，那么终止条件是什么呢？
4. 搜索的过程中，如何遍历一个机场所对应的所有机场。