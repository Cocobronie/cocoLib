import{_ as s,o as l,c as a,O as p}from"./chunks/framework.23072b34.js";const o="/cocoLib/images/assets/444.gif",n="/cocoLib/images/assets/111.gif",e="/cocoLib/images/assets/555.gif",t="/cocoLib/images/assets/666.gif",i="/cocoLib/images/assets/777.gif",g=JSON.parse('{"title":"个人实战文档","description":"","frontmatter":{},"headers":[],"relativePath":"JS/基础知识点/apiSum.md","filePath":"JS/基础知识点/apiSum.md","lastUpdated":null}'),c={name:"JS/基础知识点/apiSum.md"},r=p('<h1 id="个人实战文档" tabindex="-1">个人实战文档 <a class="header-anchor" href="#个人实战文档" aria-label="Permalink to &quot;个人实战文档&quot;">​</a></h1><p>本次实战是对自己整个api阶段的总结。</p><p>参考效果如下地址：</p><p><a href="http://erabbit.itheima.net/#/product/3995139" target="_blank" rel="noreferrer">http://erabbit.itheima.net/#/product/3995139</a></p><p>本次实战主要分为以下几个模块。</p><h2 id="顶部导航模块" tabindex="-1">顶部导航模块 <a class="header-anchor" href="#顶部导航模块" aria-label="Permalink to &quot;顶部导航模块&quot;">​</a></h2><img src="'+o+'"><p>需求：</p><ol><li>顶部导航开始不显示</li><li>等页面滑到主导航栏，这个<strong>新顶部导航栏滑动下拉显示</strong>，并且改为固定定位</li><li>等页面滑到上面，新顶部导航栏隐藏</li></ol><h2 id="图片切换模块" tabindex="-1">图片切换模块 <a class="header-anchor" href="#图片切换模块" aria-label="Permalink to &quot;图片切换模块&quot;">​</a></h2><img src="'+n+'"><h2 id="放大镜效果" tabindex="-1">放大镜效果 <a class="header-anchor" href="#放大镜效果" aria-label="Permalink to &quot;放大镜效果&quot;">​</a></h2><img src="'+e+`"><p>业务分析：</p><p>①：鼠标经过对应小盒子，左侧中等盒子显示对应中等图片</p><p>②： 鼠标经过中盒子，右侧会显示放大镜效果的大盒子</p><p>③： 黑色遮罩盒子跟着鼠标来移动</p><p>④： 鼠标在中等盒子上移动，大盒子的图片跟着显示对应位置</p><p>思路分析：</p><p>①：鼠标经过小盒子，左侧中等盒子显示对应中等图片</p><ol><li>获取对应的元素</li><li>采取事件委托的形式，监听鼠标经过小盒子里面的图片， 注意此时需要使用 <code>mouseover</code> 事件，因为需要事件冒泡触发small</li><li>让鼠标经过小图片的爸爸li盒子，添加类，其余的li移除类（注意先移除，后添加）</li><li>鼠标经过小图片，可以拿到小图片的src， 可以做两件事 <ul><li>让中等盒子的图片换成这个 这个小图片的src</li><li>让大盒子的背景图片，也换成这个小图片的 src （稍后做）</li></ul></li></ol><p>②： 鼠标经过中等盒子，右侧大盒子显示</p><ol><li><p>用到鼠标经过和离开，鼠标经过中盒子，大盒子 利用 display 来显示和隐藏</p></li><li><p>鼠标离开不会立马消失，而是有200ms的延时，用户体验更好，所以尽量使用定时器做个延时 setTimeout</p></li><li><p>显示和隐藏也尽量定义一个函数，因为鼠标经过离开中等盒子，会显示隐藏，同时，<strong>鼠标经过大盒子，也会显示和隐藏</strong></p></li><li><p>给大盒子里面的背景图片一个默认的第一张图片</p><p>​</p></li></ol><p>③： 黑色遮罩盒子跟着鼠标来移动</p><ol><li><p>先做鼠标经过 中等盒子，显示隐藏 黑色遮罩 的盒子</p></li><li><p>让黑色遮罩跟着鼠标来走, 需要用到鼠标移动事件 mousemove</p></li><li><p>让黑色盒子的移动的核心思想：不断把鼠标在中等盒子内的坐标给黑色遮罩层 let top 值，这样遮罩层就可以跟着移动了</p><ul><li><p>需求</p><ul><li>我们要的是 鼠标在 中等盒子内的坐标， 没有办法直接得到</li><li>得到1： 鼠标在页面中的坐标</li><li>得到2： 中等盒子在页面中的坐标</li></ul></li><li><p>算法</p><ul><li>得到鼠标在页面中的坐标 利用事件对象的 pageX</li><li>得到middle中等盒子在页面中的坐标 middle.getBoundingClientRect()</li><li>鼠标在middle 盒子里面的坐标 = 鼠标在页面中的坐标 - middle 中等盒子的坐标</li><li>黑色遮罩层不断得到 鼠标在middle 盒子中的坐标 就可以移动起来了</li></ul><blockquote><p>注意 y坐标特殊，需要减去 页面被卷去的头部</p><p>为什么不用 box.offsetLet 和 box.offsetTop 因为这俩属性跟带有定位的父级有关系，很容被父级影响，而getBoundingClientRect() 不受定位的父元素的影响</p></blockquote></li><li><p>限定遮罩的盒子只能在middle 内部移动，需要添加判断</p><ul><li>限定水平方向 大于等于0 并且小于等于 400</li><li>限定垂直方向 大于等于0 并且小于等于 400</li></ul></li><li><p>遮罩盒子移动的坐标：</p><ul><li>声明一个 mx 作为移动的距离</li><li>水平坐标 x 如果 小于等于100 ，则移动的距离 mx 就是 0 不应该移动</li><li>水平坐标 如果 大于等于100 并且小于300，移动的距离就是 mx - 100 （100是遮罩盒子自身宽度的一半）</li><li>水平坐标 如果 大于等于300，移动的距离就是 mx 就是200 不应该在移动了</li><li>其实我们发现水平移动， 就在 100 ~ 200 之间移动的</li><li>垂直同理</li></ul></li></ul><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> mx </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> my </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (x </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;">) mx </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (x </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> x </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">300</span><span style="color:#A6ACCD;">) mx </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> x </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (x </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">300</span><span style="color:#A6ACCD;">) mx </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (y </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;">) my </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (y </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> y </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">300</span><span style="color:#A6ACCD;">) my </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> y </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (y </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">300</span><span style="color:#A6ACCD;">) my </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span></span></code></pre></div><ul><li>大盒子图片移动的计算方法： <ul><li>中等盒子是 400px 大盒子 是 800px 的图片</li><li>中等盒子移动1px， 大盒子就应该移动2px， 只不过是负值</li></ul></li></ul><div class="language-JavaScript"><button title="Copy Code" class="copy"></button><span class="lang">JavaScript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">large</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">backgroundPositionX </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> mx </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">px</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">large</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">backgroundPositionY </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> my </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">px</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div><p>放大镜完整代码：</p><p>​</p></li></ol><h2 id="其他模块" tabindex="-1">其他模块 <a class="header-anchor" href="#其他模块" aria-label="Permalink to &quot;其他模块&quot;">​</a></h2><p>此模块可以根据自己时间添加</p><h3 id="点击模块" tabindex="-1">点击模块 <a class="header-anchor" href="#点击模块" aria-label="Permalink to &quot;点击模块&quot;">​</a></h3><img src="`+t+'"><h3 id="tab栏切换模块" tabindex="-1">tab栏切换模块 <a class="header-anchor" href="#tab栏切换模块" aria-label="Permalink to &quot;tab栏切换模块&quot;">​</a></h3><img src="'+i+'"><h3 id="返回顶部模块" tabindex="-1">返回顶部模块 <a class="header-anchor" href="#返回顶部模块" aria-label="Permalink to &quot;返回顶部模块&quot;">​</a></h3><p>页面滚动底部，可以出现一个侧边栏，点击返回顶部，可以返回顶部</p>',33),C=[r];function D(y,A,F,m,d,u){return l(),a("div",null,C)}const b=s(c,[["render",D]]);export{g as __pageData,b as default};
