<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高德地图示例</title>
    <style>
        #map {
            width: 100%;
            height: 100vh;
        }
    </style>
    <script type="text/javascript" src="https://webapi.amap.com/maps?v=2.0&key=e0bfcb8b29b6a022df534326e0ddb2f4"></script>
</head>
<body>
    <h1>高德地图示例</h1>
    <div id="map"></div>
    <script>
        // 初始化地图
        var map = new AMap.Map('map', {
            zoom: 12, // 地图显示的缩放级别
            center: [116.397428, 39.90923], // 地图中心点坐标（北京天安门）
            viewMode: '3D' // 使用3D视图
        });

         // 检查浏览器是否支持Geolocation
        if (navigator.geolocation) {
            // 获取当前位置
            navigator.geolocation.getCurrentPosition(function(position) {
                // 获取到的经纬度
                var lat = position.coords.latitude; // 纬度
                var lng = position.coords.longitude; // 经度

                // 将获取到的经纬度设置为地图中心点
                map.setCenter([lng, lat]);

                // 在地图上添加标记
                var marker = new AMap.Marker({
                    position: new AMap.LngLat(lng, lat),
                    title: "当前位置",
                    map: map
                });

                // 显示提示信息
                alert("已定位到您的位置：" + lng + ", " + lat);
            }, function(error) {
                // 定位失败的处理
                switch (error.code) {
                    case error.PERMISSION_DENIED:
                        alert("定位失败，用户拒绝授权");
                        break;
                    case error.POSITION_UNAVAILABLE:
                        alert("定位失败，位置信息不可用");
                        break;
                    case error.TIMEOUT:
                        alert("定位失败，请求超时");
                        break;
                    case error.UNKNOWN_ERROR:
                        alert("定位失败，未知错误");
                        break;
                }
            });
        } else {
            alert("您的浏览器不支持地理定位功能");
        }
    </script>
</body>
</html>
